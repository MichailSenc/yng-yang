(()=>{"use strict";const e=function(e,t,n,o){const c=t.getContext("2d");let{width:l,height:i,cellSize:r,cellType:a}=n;function d({x:t,y:n}){e[t/r][n/r]=a,c.fillStyle=o[`${a}`],c.fillRect(t,n,r,r)}!function(){const e=document.querySelector("#yin_percent"),n=document.querySelector("#yang_percent"),c=document.querySelector("#count_alive"),u=document.querySelector("#generate_button");function s(e,t){let n=+t.value>100?100:+t.value<0?0:+t.value;t.value=n,e.value=100-n}n.addEventListener("input",(()=>s(e,n))),e.addEventListener("input",(()=>s(n,e))),c.addEventListener("input",(()=>{c.value=+c.value<0?0:+c.value})),u.addEventListener("click",(()=>{if(!c.value||!e.value||!n.value)return void console.log("null check failed!!!");let u=+c.value*+e.value/100,s=+c.value-u,{maxSizeX:h,maxSizeY:g}=(v=l-1,f=i-1,{maxSizeX:Math.floor(v/r)*r,maxSizeY:Math.floor(f/r)*r});var v,f;t.style.backgroundColor=o.empty;const y=new class{constructor(e,t){this.points=[];for(let n=0;n<e;n++)for(let e=0;e<t;e++)this.points.push([n,e])}shuffle(){return this.points.sort((()=>Math.random()-.5))}}(h/r,g/r).shuffle();a="yng";for(let e=0;e<u;e++){let[e,t]=y.pop().map((e=>e*r));d({x:e,y:t})}a="yang";for(let e=0;e<s;e++){let[e,t]=y.pop().map((e=>e*r));d({x:e,y:t})}}))}(),function(){const e=document.querySelectorAll('[name="radio"]'),t=document.querySelector("#input_type_button");e.forEach((e=>{e.addEventListener("change",(e=>n.cellType=a=e.target.value))}));let o=!0;t.addEventListener("click",(()=>{t.innerText=o?"Установка точек мышкой":"Ввести координаты",o=!o}))}(),function(){function e(e,t,n){let o=e.getBoundingClientRect();return t-=o.left*(e.width/o.width),n-=o.top*(e.height/o.height),{x:Math.floor(t/r)*r,y:Math.floor(n/r)*r}}t.addEventListener("mousedown",(t=>d(e(t.target,t.clientX,t.clientY))));const n=document.querySelector(".canvas_coordinates");t.addEventListener("mousemove",(t=>{let{x:o,y:c}=e(t.target,t.clientX,t.clientY);n.innerHTML=`X: ${o/r}; Y: ${c/r}`}))}()};function t(e){const{width:t,height:n,cellSize:o}=e,c=Math.floor(t/o),l=Math.floor(n/o),i=[];for(let e=0;e<c;e++)i[e]=new Array(l);return i}document.addEventListener("DOMContentLoaded",(()=>{const n=document.querySelector("#container"),o={width:750,height:750,cellSize:7,cellType:"empty"},c={empty:"#D3D3D3",yng:"#008000",yang:"#FF0000",grid:"black"},{canvas:l,grid:i,panel:r}=function(e,n){const{width:o,height:c,cellSize:l}=n,i=function(){const t=document.createElement("canvas");return t.classList.add("background"),t.classList.add("transparency"),t.id="canvas",t.width=o,t.height=c,t.style.backgroundColor=e.empty,t}(),r=function(){const t=document.createElement("canvas");t.id="grid_canvas",t.width=o,t.height=c;let n=t.getContext("2d");n.strokeStyle=e.grid;let i=t.width-1,r=t.height-1;for(let e=0;e<i;e+=l)n.strokeRect(e,0,.1,r);for(let e=0;e<r;e+=l)n.strokeRect(0,e,i,.1);return t}(),a=t(n);return document.querySelector("#clear_button").addEventListener("click",(()=>function(e,n,o){e.getContext("2d").clearRect(0,0,e.width,e.height),t(o)}(i,0,n))),function(e,t){document.querySelector("#grid_checkbox").addEventListener("input",(()=>{t.classList.toggle("hidden")})),document.querySelector("#canvas_checkbox").addEventListener("input",(()=>{e.classList.toggle("hidden")}))}(i,r),{canvas:i,grid:r,panel:a}}(c,o);e(r,l,o,c),n.appendChild(l),n.appendChild(i)}))})();
//# sourceMappingURL=main.js.map