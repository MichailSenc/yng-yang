(()=>{"use strict";const t=function(t,e){const n=t.canvas;n.getContext("2d");let{width:i,height:a,cellSize:s}=t.settings;!function(){const e=document.querySelector("#yin_percent"),n=document.querySelector("#yang_percent"),l=document.querySelector("#count_alive"),o=document.querySelector("#generate_button");function r(t,e){let n=+e.value>100?100:+e.value<0?0:+e.value;e.value=n,t.value=100-n}n.addEventListener("input",(()=>r(e,n))),e.addEventListener("input",(()=>r(n,e))),l.addEventListener("input",(()=>{let t=Math.floor((i-1)/s)*Math.floor((a-1)/s),e=+l.value;l.value=e<0?0:e>t?t:+l.value})),o.addEventListener("click",(()=>{if(!l.value||!e.value||!n.value)return void console.log("null check failed!!!");let o=Math.round(+l.value*+e.value/100),r=+l.value-o,c=Math.floor((i-1)/s)*s,d=Math.floor((a-1)/s)*s;const u=new class{constructor(t,e){this.points=[];for(let n=0;n<t;n++)for(let t=0;t<e;t++)this.points.push([n,t])}shuffle(){let t,e,n=this.points;for(let i=n.length-1;i>0;i--)t=Math.floor(Math.random()*(i+1)),e=n[t],n[t]=n[i],n[i]=e;return this.points}}(c/s,d/s).shuffle();t.clearCanvas(),t.setDefaultMatrix(),t.settings.cellType="yng";for(let e=0;e<o;e++){let[e,n]=u.pop().map((t=>t*s));t.putCoordinate({x:e,y:n})}t.settings.cellType="yang";for(let e=0;e<r;e++){let[e,n]=u.pop().map((t=>t*s));t.putCoordinate({x:e,y:n})}}))}(),function(){function e(t,e,n){let i=t.getBoundingClientRect();return e-=i.left*(t.width/i.width),n-=i.top*(t.height/i.height),{x:Math.floor(e/s)*s,y:Math.floor(n/s)*s}}document.querySelectorAll('[name="radio"]').forEach((e=>{e.addEventListener("change",(e=>t.settings.cellType=e.target.value))})),n.addEventListener("mousedown",(n=>{t.putCoordinate(e(n.target,n.clientX,n.clientY))}));const i=document.querySelector(".canvas_coordinates");n.addEventListener("mousemove",(t=>{let{x:n,y:a}=e(t.target,t.clientX,t.clientY);i.innerHTML=`X: ${n/s}; Y: ${a/s}`}))}()};document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("#container"),n={cellSize:6,width:6*Math.floor(125)+1,height:6*Math.floor(125)+1,cellType:"empty"},i=new class{constructor(t,e){const{canvas:n,grid:i}=function(t,e){const{width:n,height:i,cellSize:a}=e;return{canvas:function(){const e=document.createElement("canvas");return e.classList.add("background"),e.classList.add("transparency"),e.id="canvas",e.width=n,e.height=i,e.style.backgroundColor=t.empty,e}(),grid:function(){const e=document.createElement("canvas");e.id="grid_canvas",e.width=n,e.height=i;let s=e.getContext("2d");s.strokeStyle=t.grid;let l=e.width-1,o=e.height-1;for(let t=0;t<l;t+=a)s.strokeRect(t,0,.1,o);for(let t=0;t<o;t+=a)s.strokeRect(0,t,l,.1);return e}()}}(t,e);this._settings=e,this._colors=t,this.canvas=n,this.grid=i,this.panel,this.setDefaultMatrix()}clearCanvas(){this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),this.panel=this.setDefaultMatrix(this._settings)}setDefaultMatrix(){this.panel=this.defaultMatrix()}defaultMatrix(){const{width:t,height:e,cellSize:n}=this._settings,i=Math.floor(t/n),a=Math.floor(e/n),s=[];for(let t=0;t<i;t++)s[t]=new Array(a);return s}putCoordinate({x:t,y:e}){const{cellSize:n,cellType:i}=this._settings,a=this.canvas.getContext("2d");this.panel[t/n][e/n]="empty"==i?null:i,a.fillStyle=this._colors[`${i}`],a.fillRect(t,e,n,n)}start(){document.querySelector("#grid_checkbox").addEventListener("input",(()=>{this.grid.classList.toggle("hidden")})),document.querySelector("#canvas_checkbox").addEventListener("input",(()=>{this.canvas.classList.toggle("hidden")})),document.querySelector("#clear_button").addEventListener("click",(()=>{this.clearCanvas(),this.setDefaultMatrix()}))}set settings(t){this._settings=t}get settings(){return this._settings}}({empty:"#D3D3D3",yng:"#008000",yang:"#FF0000",grid:"black"},n);i.start(),t(i),e.appendChild(i.canvas),e.appendChild(i.grid)}))})();
//# sourceMappingURL=main.js.map